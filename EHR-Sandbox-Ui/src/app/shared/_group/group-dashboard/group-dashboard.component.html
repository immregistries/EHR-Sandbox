<div class="grid-container">
  <h1 class="mat-h1">
    {{'Group: ' + ehrGroup.name }}
  </h1>
  <mat-grid-list cols="4">
    <mat-grid-tile [colspan]="1">
      <mat-card>
        <mat-card-content class="dashboard-card-content" #menu>
          <app-group-tools [ehrGroup]="ehrGroup"></app-group-tools>
        </mat-card-content>
      </mat-card>
    </mat-grid-tile>
    <mat-grid-tile [colspan]="1">
      <mat-card class="dashboard-card">
        <mat-card-content class="dashboard-card-content" #display>
          <mat-list>
            <mat-list-item>Remote IIS: {{ehrGroup.immunizationRegistry?.name ?? 'N/A' }}
              <button type="button" mat-icon-button color="primary" (click)="openImmunizationRegistry()"
                      *ngIf="ehrGroup.immunizationRegistry">
                <mat-icon>open_in_new</mat-icon>
              </button>
            </mat-list-item>
            <mat-divider></mat-divider>
            <p>Description: {{ehrGroup.description}} </p>
          </mat-list>
        </mat-card-content>
      </mat-card>
    </mat-grid-tile>
    <mat-grid-tile [colspan]="2">
      <mat-card class="dashboard-card">
        <mat-card-content class="dashboard-card-content" #patients>
          <app-patient-table [dataArray]="ehrGroup.patientList | patientCache" [title]="'Group members'"
                             [allow_create]="false" [columns]='["mrn","nameLast","nameFirst","birthDate","remove"]'
                             [facility]="facilityService.getCurrentObservable() | async"
                             (removeEmitter)="removePatient($event)"></app-patient-table>
        </mat-card-content>
      </mat-card>
    </mat-grid-tile>
    <mat-grid-tile [colspan]="1">
      <mat-card class="dashboard-card">
        <mat-card-title>Bulk import</mat-card-title>
        <mat-card-content class="dashboard-card-content" #patients>
          <app-group-bulk-card [group]="ehrGroup"></app-group-bulk-card>
        </mat-card-content>
      </mat-card>
    </mat-grid-tile>
  </mat-grid-list>
</div>
